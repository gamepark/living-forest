import { RuleId } from '../rules/RuleId'
import CardType from './CardType'
import GuardianAnimal from './GuardianAnimal'
import {
    Anteater,
    Ara,
    Armadillo,
    Axolotl,
    Baboon,
    Badger,
    Bat,
    Bear,
    Beaver,
    Bee,
    Beetle,
    Bison,
    Boar,
    Bull,
    Butterfly,
    Capybara,
    Caterpillar,
    Chameleon,
    Chimpanzee,
    Coati,
    Cobra,
    Cockatoo,
    Crane,
    Crayfish,
    Cricket,
    Crocodile,
    Dog,
    Dolphin,
    Eagle,
    Elephant,
    Fawn,
    FireVaran,
    Flamingo,
    FlyingSquirrel,
    Fox,
    Frog,
    Goat,
    Goldfish,
    Gorilla,
    Hare,
    Hedgehog,
    Hippopotamus,
    HornedOwl,
    Horse,
    Hummingbird,
    Koala,
    KodamaAutumn,
    KodamaFlower1,
    KodamaFlower2,
    KodamaFlower3,
    KodamaFlower4,
    KodamaFlower5,
    KodamaFlower6,
    KodamaSpring,
    KodamaSummer,
    KodamaTree1,
    KodamaTree2,
    KodamaTree3,
    KodamaTree4,
    KodamaTree5,
    KodamaTree6,
    KodamaWater1,
    KodamaWater2,
    KodamaWater3,
    KodamaWater4,
    KodamaWater5,
    KodamaWater6,
    KodamaWinter,
    Koi,
    Lemur,
    Leopard,
    Loris,
    Lynx,
    Marmot,
    Meerkat,
    Owl,
    Panda,
    Panther,
    Peafowl,
    Platypus,
    Racoon,
    Ram,
    Raven,
    Rhinoceros,
    Rooster,
    Salamander,
    Sloth,
    Spider,
    Squirrel,
    Stag,
    Tanuki,
    Tapir,
    Tiger,
    Tortoise,
    Toucan,
    Weasel,
    Wolf,
    Woodpecker
} from './GuardiansAnimals'
import Resource from './Resource'


type GuardianAnimalDetails = {
    resources: { [key in Resource]?: number }
    cost: number
    type?: CardType
    allowMultiple?: RuleId
    bonusAction?: RuleId
}

export default GuardianAnimalDetails

export const GuardianAnimalDescriptions: Record<GuardianAnimal, GuardianAnimalDetails> = {
    [GuardianAnimal.Bear]: Bear,
    [GuardianAnimal.Beetle]: Beetle,
    [GuardianAnimal.Lynx]: Lynx,
    [GuardianAnimal.Fox]: Fox,
    [GuardianAnimal.Goldfish]: Goldfish,
    [GuardianAnimal.Tanuki]: Tanuki,
    [GuardianAnimal.Boar]: Boar,
    [GuardianAnimal.Weasel]: Weasel,
    [GuardianAnimal.Hare]: Hare,
    [GuardianAnimal.Fawn]: Fawn,
    [GuardianAnimal.Hummingbird]: Hummingbird,
    [GuardianAnimal.Bee]: Bee,
    [GuardianAnimal.Baboon]: Baboon,
    [GuardianAnimal.Owl]: Owl,
    [GuardianAnimal.Hedgehog]: Hedgehog,
    [GuardianAnimal.Caterpillar]: Caterpillar,
    [GuardianAnimal.Flamingo]: Flamingo,
    [GuardianAnimal.Ram]: Ram,
    [GuardianAnimal.Wolf]: Wolf,
    [GuardianAnimal.Lemur]: Lemur,
    [GuardianAnimal.Squirrel]: Squirrel,
    [GuardianAnimal.Tortoise]: Tortoise,
    [GuardianAnimal.Coati]: Coati,
    [GuardianAnimal.Racoon]: Racoon,
    [GuardianAnimal.Beaver]: Beaver,
    [GuardianAnimal.Raven]: Raven,
    [GuardianAnimal.Bat]: Bat,
    [GuardianAnimal.Cockatoo]: Cockatoo,
    [GuardianAnimal.Meerkat]: Meerkat,
    [GuardianAnimal.Horse]: Horse,
    [GuardianAnimal.Axolotl]: Axolotl,
    [GuardianAnimal.Chimpanzee]: Chimpanzee,
    [GuardianAnimal.Toucan]: Toucan,
    [GuardianAnimal.Butterfly]: Butterfly,
    [GuardianAnimal.Spider]: Spider,
    [GuardianAnimal.Hippopotamus]: Hippopotamus,
    [GuardianAnimal.HornedOwl]: HornedOwl,
    [GuardianAnimal.Woodpecker]: Woodpecker,
    [GuardianAnimal.Badger]: Badger,
    [GuardianAnimal.Rooster]: Rooster,
    [GuardianAnimal.Rhinoceros]: Rhinoceros,
    [GuardianAnimal.Goat]: Goat,
    [GuardianAnimal.Bull]: Bull,
    [GuardianAnimal.Salamander]: Salamander,
    [GuardianAnimal.Frog]: Frog,
    [GuardianAnimal.Marmot]: Marmot,
    [GuardianAnimal.Platypus]: Platypus,
    [GuardianAnimal.Crane]: Crane,
    [GuardianAnimal.Loris]: Loris,
    [GuardianAnimal.Koala]: Koala,
    [GuardianAnimal.Leopard]: Leopard,
    [GuardianAnimal.Eagle]: Eagle,
    [GuardianAnimal.Cobra]: Cobra,
    [GuardianAnimal.Cricket]: Cricket,
    [GuardianAnimal.Panther]: Panther,
    [GuardianAnimal.Gorilla]: Gorilla,
    [GuardianAnimal.Bison]: Bison,
    [GuardianAnimal.Chameleon]: Chameleon,
    [GuardianAnimal.Crocodile]: Crocodile,
    [GuardianAnimal.Elephant]: Elephant,
    [GuardianAnimal.Dolphin]: Dolphin,
    [GuardianAnimal.Dog]: Dog,
    [GuardianAnimal.Panda]: Panda,
    [GuardianAnimal.Stag]: Stag,
    [GuardianAnimal.Tapir]: Tapir,
    [GuardianAnimal.FireVaran]: FireVaran,

    [GuardianAnimal.Anteater]: Anteater,
    [GuardianAnimal.Ara]: Ara,
    [GuardianAnimal.Armadillo]: Armadillo,
    [GuardianAnimal.Capybara]: Capybara,
    [GuardianAnimal.Crayfish]: Crayfish,
    [GuardianAnimal.FlyingSquirrel]: FlyingSquirrel,
    [GuardianAnimal.Koi]: Koi,
    [GuardianAnimal.Peafowl]: Peafowl,
    [GuardianAnimal.Sloth]: Sloth,
    [GuardianAnimal.Tiger]: Tiger,

    [GuardianAnimal.KodamaSpring]: KodamaSpring,
    [GuardianAnimal.KodamaSummer]: KodamaSummer,
    [GuardianAnimal.KodamaAutumn]: KodamaAutumn,
    [GuardianAnimal.KodamaWinter]: KodamaWinter,
    [GuardianAnimal.KodamaFlower1]: KodamaFlower1,
    [GuardianAnimal.KodamaFlower2]: KodamaFlower2,
    [GuardianAnimal.KodamaFlower3]: KodamaFlower3,
    [GuardianAnimal.KodamaFlower4]: KodamaFlower4,
    [GuardianAnimal.KodamaFlower5]: KodamaFlower5,
    [GuardianAnimal.KodamaFlower6]: KodamaFlower6,
    [GuardianAnimal.KodamaTree1]: KodamaTree1,
    [GuardianAnimal.KodamaTree2]: KodamaTree2,
    [GuardianAnimal.KodamaTree3]: KodamaTree3,
    [GuardianAnimal.KodamaTree4]: KodamaTree4,
    [GuardianAnimal.KodamaTree5]: KodamaTree5,
    [GuardianAnimal.KodamaTree6]: KodamaTree6,
    [GuardianAnimal.KodamaWater1]: KodamaWater1,
    [GuardianAnimal.KodamaWater2]: KodamaWater2,
    [GuardianAnimal.KodamaWater3]: KodamaWater3,
    [GuardianAnimal.KodamaWater4]: KodamaWater4,
    [GuardianAnimal.KodamaWater5]: KodamaWater5,
    [GuardianAnimal.KodamaWater6]: KodamaWater6,

} as Record<GuardianAnimal, GuardianAnimalDetails> // TODO remove this cast once all Kodama card are implemented

export function countSolitary(animals: GuardianAnimal[]): number {
    return animals.reduce((sum, animal) => sum + ((GuardianAnimalDescriptions[animal].type == CardType.Solitary) ? 1 : 0), 0)
}
export function countGregarious(animals: GuardianAnimal[]): number {
    return animals.reduce((sum, animal) => sum + ((GuardianAnimalDescriptions[animal].type == CardType.Gregarious) ? 1 : 0), 0)
}
export function getSolitaryGregariousDifference(animals: GuardianAnimal[]): number {
    return countSolitary(animals) - countGregarious(animals)
}